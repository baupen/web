{% extends 'layout_base.html.twig' %}

{% block title %}{{ "view.title"|trans }}{% endblock %}
{% block description %}{{ "view.description"|trans }}{% endblock %}

{% trans_default_domain "public" %}

{% block content %}
    <section class="content">
        <div class="container index-container default-color">
            <div class="row">
                <div class="col-md-12">
                    <h1>{{ block("title") }}</h1>
                    <h2>{{ block("description") }}</h2>

                </div>
            </div>
        </div>

        {% for marker in pending_markers %}
            <div class="container index-container default-color">
                <div class="row">
                    <div class="col-md-8">
                        <blockquote class="blockquote">
                            <p class="mb-0">{{ marker.content }}</p>
                            <footer class="blockquote-footer"> {{ marker.createdBy.fullName }}
                                ({{ marker.createdAt|dateFormat }})
                            </footer>
                        </blockquote>

                        <img class="img-fluid" src="{{ path("public_render", {"marker": marker.id}) }}">
                    </div>
                    <div class="col-md-4">
                        <img class="img-fluid" src="/upload/{{ marker.imageFileName }}">
                    </div>
                </div>
            </div>
        {% endfor %}

        {% if approved_markers|length > 0 %}
            <div class="container index-container default-color">
                <div class="row">
                    <div class="col-md-12">
                        <h3>{{ "view.approved"|trans }}</h3>
                        <p>
                            {% for marker in approved_markers %}
                                {{ marker.content }} ({{ marker.approved|dateFormat }})
                            {% endfor %}
                        </p>
                    </div>
                </div>
            </div>
        {% endif %}
    </section>
{% endblock %}